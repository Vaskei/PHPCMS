<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	 crossorigin="anonymous">

	<title>Hello, world!</title>
</head>

<body>
	<div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
					<h4 class="modal-title" id="myModalLabel">Confirm Delete</h4>
				</div>
				<div class="modal-body">
					<p>You are about to delete
						<b>
							<i class="title"></i>
						</b> record, this procedure is irreversible.</p>
					<p>Do you want to proceed?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-danger btn-ok">Delete</button>
				</div>
			</div>
		</div>
	</div>
	<a href="#" data-record-id="23" data-record-title="The first one" data-toggle="modal" data-target="#confirm-delete">
		Delete "The first one", #23
	</a>
	<br />
	<button class="btn btn-default" data-record-id="54" data-record-title="Something cool" data-toggle="modal" data-target="#confirm-delete">
		Delete "Something cool", #54
	</button>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
	 crossorigin="anonymous"></script>
	<script>
		$('#confirm-delete').on('click', '.btn-ok', function (e) {
			var $modalDiv = $(e.delegateTarget);
			console.log($modalDiv);
			var id = $(this).data('recordId');
			console.log(id);
			//$.ajax({url: '/api/record/' + id, type: 'DELETE'})
			// $.post('/api/record/' + id).then()
			$modalDiv.addClass('loading');
			$.post('test44.php', {'id': id}).then(function () {
				setTimeout(function () {
					$modalDiv.modal('hide').removeClass('loading');
				}, 300)
			});
		});
		$('#confirm-delete').on('show.bs.modal', function (e) {
			var data = $(e.relatedTarget).data();
			console.log(data);
			$('.title', this).text(data.recordTitle);
			$('.btn-ok', this).data('recordId', data.recordId);
		});
	</script>
</body>

</html>